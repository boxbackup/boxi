<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1" />
<title>Running without root</title>
<link rel="stylesheet" href="bbstyles.css" type="text/css" />
</head>
<body>
<div align="center">
<div id="header">
<div id="logo">
<img src="images/bblogo.png" alt="logo" height="65" width="331" border="0" vspace="5" align="middle" /> <img src="images/stepahead.png" alt="a step ahead in data security" width="182" height="11" hspace="10" vspace="20" border="0" align="middle" /></div>
</div>
<div id="page">

<h1>Running without root</h1>

<p>It is possible to run both the server and client without root privileges.</p>

<h2>Server</h2>

<p>The server, by default, runs as a non-root user. However, it expects to be run as root
and changes user to a specified user as soon as it can, simply for administrative convenience.
The server uses a port greater than 1024, so it doesn't need root to start.</p>

<p>To run it entirely as a non-root user, edit the <tt>bbstored.conf</tt> file, and remove the
<tt>User</tt> directive from the <tt>Server</tt> section. Then simply run the server as your
desired user.</p>

<h2>Client</h2>

<p>The client requires root for normal operation, since it must be able to access all files
to back them up. However, it is possible to run the client as a non-root user, with certain
limitations.</p>

<p>Follow the installation instructions, but install the executable files manually to somewhere
in your home directory. Then use <tt>bbackupd-config</tt> to configure the daemon, but use a
directory other than <tt>/etc/box</tt>, probably somewhere in your home directory.</p>

<p>All directories you specify to be backed up must be readable, and all files must be owned
by the user and readable to that user.</p>

<p><b>Important:</b> If any file or directory is not readable by this user, the backup process
will skip that file or directory. Keep an eye on the logs for reports of this failure.</p>

<p>Non-root operation of the backup client is recommended only for testing, and should not
be relied on in a production environment.</p>

<p>&nbsp;</p>
<p>&copy; Ben Summers, 2003, 2004</p>
<p>&nbsp;</p>
</div>
</div>
</body>
</html>
