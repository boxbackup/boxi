<?xml version="1.0" encoding="UTF-8"?>
<refentry>
  <refmeta>
    <refentrytitle>bbstored-config</refentrytitle>

    <manvolnum>1</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>bbstored-config</refname>

    <refpurpose>Create config files for bbstored</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>bbstored-config &lt;configdir&gt; &lt;servername&gt;
      &lt;username&gt;</command>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsection>
    <title>Description</title>

    <para>The <literal>bbstored-config</literal> script creates config files
    and server certificates for a bbstored instance. It takes three
    parameters:</para>

    <itemizedlist>
      <listitem>
        <para><literal>configdir</literal>: The directory where config files
        will reside. A subdirectory bbstored will be created, where several
        config files will reside. the <literal>bbstored.conf</literal> file
        will be created in <literal>configdir</literal>.</para>
      </listitem>

      <listitem>
        <para><literal>servername</literal>: The name of the server that is
        being configured. Usually the fully qualified domain name of the
        machine in question.</para>
      </listitem>

      <listitem>
        <para><literal>username</literal>: The name of the user that should be
        running the bbstored processes. Recommended name:
        _<literal>bbstored.</literal></para>
      </listitem>
    </itemizedlist>

    <para>A valid raidfile.conf(5) must be found in configdir. Several steps
    are taken during the run of bbstored-config:</para>

    <itemizedlist>
      <listitem>
        <para>Configuration files are created.</para>
      </listitem>

      <listitem>
        <para>Server certificates are created. This requires interaction from
        the operator.</para>
      </listitem>

      <listitem>
        <para>The raid volumes are checked, to ensure that the configuration
        is consistent, and will work.</para>
      </listitem>

      <listitem>
        <para>Instructions for next steps to take are shown. These steps may
        be different for different OS platforms, so pay close attention to
        these instructions.</para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection>
    <title>Author</title>

    <para>Ben Summers and contributors. For help, please go to the <ulink
    url="http://boxbackup.hostworks.ca/">Wiki</ulink>, or subscribe to the Box
    Backup <ulink
    url="http://lists.warhead.org.uk/mailman/listinfo/boxbackup">mailing
    list.</ulink></para>
  </refsection>

  <refsection>
    <title>See Also</title>

    <para><literal>raidfile-config(1)</literal></para>

    <para><literal>bbstored.conf(5)</literal></para>

    <para><literal>raidfile.conf(5)</literal></para>
  </refsection>

  <refsection>
    <title>Files</title>

    <para><literal>bbstoreaccounts</literal> uses the Box Backup server
    configuration file, usually located in
    <filename>/etc/box/bbstored.conf</filename>.</para>
  </refsection>

  <refsection>
    <title>Bugs</title>

    <para>If you find a bug in Box Backup, and you want to let us know about
    it, join the <ulink
    url="http://lists.warhead.org.uk/mailman/listinfo/boxbackup">mailing
    list</ulink>, and send a description of the problem there.</para>

    <para>To report a bug, give us at least the following information:</para>

    <itemizedlist>
      <listitem>
        <para>The version of Box Backup you are running</para>
      </listitem>

      <listitem>
        <para>The platform you are running on (Hardware and OS), for both
        client and server.</para>
      </listitem>

      <listitem>
        <para>If possible attach your config files (bbstored.conf,
        bbackupd.conf) to the bug report.</para>
      </listitem>

      <listitem>
        <para>Also attach any log file output that helps shed light on the
        problem you are seeing.</para>
      </listitem>

      <listitem>
        <para>And last but certainly not least, a description of what you are
        seeing, in as much detail as possible.</para>
      </listitem>
    </itemizedlist>
  </refsection>
</refentry>